{"ast":null,"code":"// src/client/admin/pages/AdminUsers.js\nimport React,{useEffect,useState,useContext}from\"react\";import{motion}from\"framer-motion\";import{User,ShieldCheck,Trash2,RefreshCw,Crown,Lock,Search,ArrowUpDown,Loader2}from\"lucide-react\";import Swal from\"sweetalert2\";import smartApi from\"../../utils/smartApi\";// ‚úÖ centralis√©\nimport{AuthContext}from\"../../context/AuthContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminUsers=()=>{const{user}=useContext(AuthContext);// ‚úÖ utilisateur connect√© (admin)\nconst[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[searchTerm,setSearchTerm]=useState(\"\");const[sortOption,setSortOption]=useState(\"recent\");const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const token=localStorage.getItem(\"token\");// ‚úÖ Charger tous les utilisateurs\nconst fetchUsers=async()=>{try{var _res$data;setLoading(true);const res=await smartApi.get(\"/users\",{headers:{Authorization:\"Bearer \".concat(token)}});const allUsers=((_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.data)||[];setUsers(allUsers);setFilteredUsers(allUsers);}catch(err){console.error(\"Erreur chargement utilisateurs :\",err);setError(\"Impossible de charger les utilisateurs.\");}finally{setLoading(false);}};useEffect(()=>{fetchUsers();},[]);// ‚úÖ Filtrage et tri dynamique\nuseEffect(()=>{const term=searchTerm.toLowerCase();let filtered=[...users].filter(u=>{var _u$name,_u$email;return((_u$name=u.name)===null||_u$name===void 0?void 0:_u$name.toLowerCase().includes(term))||((_u$email=u.email)===null||_u$email===void 0?void 0:_u$email.toLowerCase().includes(term));});switch(sortOption){case\"admin\":filtered.sort((a,b)=>(b.isAdmin?1:0)-(a.isAdmin?1:0));break;case\"name\":filtered.sort((a,b)=>a.name.localeCompare(b.name));break;case\"recent\":filtered.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));break;default:break;}setFilteredUsers(filtered);},[searchTerm,users,sortOption]);// ‚úÖ Supprimer un utilisateur\nconst handleDelete=async id=>{if(id===(user===null||user===void 0?void 0:user.id)){Swal.fire(\"Refus√©\",\"Vous ne pouvez pas supprimer votre propre compte.\",\"warning\");return;}const ask=await Swal.fire({title:\"Supprimer cet utilisateur ?\",text:\"Cette action est irr√©versible.\",icon:\"warning\",showCancelButton:true,confirmButtonText:\"Oui, supprimer\",cancelButtonText:\"Annuler\"});if(!ask.isConfirmed)return;try{await smartApi.delete(\"/users/\".concat(id),{headers:{Authorization:\"Bearer \".concat(token)}});Swal.fire(\"Supprim√© ‚úÖ\",\"L‚Äôutilisateur a √©t√© supprim√©.\",\"success\");fetchUsers();}catch(err){console.error(\"Erreur suppression :\",err);Swal.fire(\"Erreur\",\"Impossible de supprimer cet utilisateur.\",\"error\");}};// ‚úÖ Promouvoir un utilisateur\nconst handlePromote=async id=>{const ask=await Swal.fire({title:\"Promouvoir en administrateur ?\",text:\"L‚Äôutilisateur aura acc√®s au panneau d‚Äôadministration.\",icon:\"question\",showCancelButton:true,confirmButtonText:\"Promouvoir\",cancelButtonText:\"Annuler\"});if(!ask.isConfirmed)return;try{await smartApi.put(\"/users/\".concat(id,\"/promote\"),{},{headers:{Authorization:\"Bearer \".concat(token)}});Swal.fire(\"Succ√®s ‚úÖ\",\"L‚Äôutilisateur a √©t√© promu administrateur.\",\"success\");fetchUsers();}catch(err){console.error(\"Erreur promotion :\",err);Swal.fire(\"Erreur\",\"Impossible de promouvoir cet utilisateur.\",\"error\");}};return/*#__PURE__*/_jsx(\"div\",{className:\"flex min-h-screen bg-gray-50 dark:bg-background-dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col\",children:/*#__PURE__*/_jsxs(\"main\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-text-light dark:text-text-dark\",children:\"Liste des utilisateurs\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-3 items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 w-72 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 shadow-sm\",children:[/*#__PURE__*/_jsx(Search,{className:\"text-gray-400 w-4 h-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Rechercher par nom ou email...\",className:\"w-full bg-transparent outline-none text-sm text-gray-700 dark:text-gray-200\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 shadow-sm\",children:[/*#__PURE__*/_jsx(ArrowUpDown,{className:\"w-4 h-4 text-gray-500\"}),/*#__PURE__*/_jsxs(\"select\",{value:sortOption,onChange:e=>setSortOption(e.target.value),className:\"bg-transparent text-sm outline-none text-gray-700 dark:text-gray-200\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"recent\",children:\"\\uD83D\\uDCC5 Plus r\\xE9cents\"}),/*#__PURE__*/_jsx(\"option\",{value:\"name\",children:\"\\uD83D\\uDD24 Par nom\"}),/*#__PURE__*/_jsx(\"option\",{value:\"admin\",children:\"\\uD83D\\uDC51 Admins d\\u2019abord\"})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:fetchUsers,className:\"flex items-center gap-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4\"}),\" Actualiser\"]})]})]}),loading?/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center py-20 text-gray-500 dark:text-gray-400\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"w-6 h-6 mr-2 animate-spin text-primary\"}),\" \",\"Chargement...\"]}):error?/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500\",children:error}):filteredUsers.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-10\",children:\"Aucun utilisateur trouv\\xE9.\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto bg-white dark:bg-card-dark rounded-xl shadow\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-gray-100 dark:bg-gray-800 text-left text-gray-600 dark:text-gray-300 uppercase text-xs\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4\",children:\"Nom\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-center\",children:\"R\\xF4le\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-center\",children:\"Date d\\u2019inscription\"}),/*#__PURE__*/_jsx(\"th\",{className:\"py-3 px-4 text-center\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredUsers.map(u=>{const isCurrentUser=u._id===(user===null||user===void 0?void 0:user.id);return/*#__PURE__*/_jsxs(motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:0.2},className:\"border-b border-gray-200 dark:border-gray-700 \".concat(isCurrentUser?\"bg-gray-100 dark:bg-gray-800 opacity-75\":\"hover:bg-gray-50 dark:hover:bg-gray-800 transition\"),children:[/*#__PURE__*/_jsxs(\"td\",{className:\"py-3 px-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(User,{className:\"w-4 h-4 text-primary\"}),u.name,isCurrentUser&&/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-xs text-blue-500 font-semibold\",children:\"(Moi)\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4\",children:u.email}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-center\",children:u.isAdmin?/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 text-green-600 font-semibold\",children:[/*#__PURE__*/_jsx(ShieldCheck,{className:\"w-4 h-4\"}),\" Admin\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-500\",children:\"Utilisateur\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-center text-gray-400\",children:new Date(u.createdAt).toLocaleDateString(\"fr-FR\")}),/*#__PURE__*/_jsx(\"td\",{className:\"py-3 px-4 text-center flex justify-center gap-3\",children:isCurrentUser?/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-400 flex items-center gap-1 cursor-not-allowed\",title:\"Impossible de modifier votre propre compte\",children:[/*#__PURE__*/_jsx(Lock,{className:\"w-4 h-4\"}),\" Prot\\xE9g\\xE9\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[!u.isAdmin&&/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handlePromote(u._id),className:\"text-yellow-600 hover:text-yellow-800 flex items-center gap-1\",title:\"Rendre administrateur\",children:[/*#__PURE__*/_jsx(Crown,{className:\"w-4 h-4\"}),\" Promouvoir\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleDelete(u._id),className:\"text-red-500 hover:text-red-700 flex items-center gap-1\",title:\"Supprimer\",children:[/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"}),\" Supprimer\"]})]})})]},u._id);})})]})})]})})});};export default AdminUsers;","map":{"version":3,"names":["React","useEffect","useState","useContext","motion","User","ShieldCheck","Trash2","RefreshCw","Crown","Lock","Search","ArrowUpDown","Loader2","Swal","smartApi","AuthContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminUsers","user","users","setUsers","filteredUsers","setFilteredUsers","searchTerm","setSearchTerm","sortOption","setSortOption","loading","setLoading","error","setError","token","localStorage","getItem","fetchUsers","_res$data","res","get","headers","Authorization","concat","allUsers","data","err","console","term","toLowerCase","filtered","filter","u","_u$name","_u$email","name","includes","email","sort","a","b","isAdmin","localeCompare","Date","createdAt","handleDelete","id","fire","ask","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","isConfirmed","delete","handlePromote","put","className","children","type","placeholder","value","onChange","e","target","onClick","length","map","isCurrentUser","_id","tr","initial","opacity","y","animate","transition","duration","toLocaleDateString"],"sources":["C:/React/kocrou-transport -Deploy/client/src/admin/pages/AdminUsers.js"],"sourcesContent":["// src/client/admin/pages/AdminUsers.js\r\nimport React, { useEffect, useState, useContext } from \"react\";\r\nimport { motion } from \"framer-motion\";\r\nimport {\r\n  User,\r\n  ShieldCheck,\r\n  Trash2,\r\n  RefreshCw,\r\n  Crown,\r\n  Lock,\r\n  Search,\r\n  ArrowUpDown,\r\n  Loader2,\r\n} from \"lucide-react\";\r\nimport Swal from \"sweetalert2\";\r\nimport smartApi from \"../../utils/smartApi\"; // ‚úÖ centralis√©\r\nimport { AuthContext } from \"../../context/AuthContext\";\r\n\r\nconst AdminUsers = () => {\r\n  const { user } = useContext(AuthContext); // ‚úÖ utilisateur connect√© (admin)\r\n  const [users, setUsers] = useState([]);\r\n  const [filteredUsers, setFilteredUsers] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [sortOption, setSortOption] = useState(\"recent\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  // ‚úÖ Charger tous les utilisateurs\r\n  const fetchUsers = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const res = await smartApi.get(\"/users\", {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      const allUsers = res.data?.data || [];\r\n      setUsers(allUsers);\r\n      setFilteredUsers(allUsers);\r\n    } catch (err) {\r\n      console.error(\"Erreur chargement utilisateurs :\", err);\r\n      setError(\"Impossible de charger les utilisateurs.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  // ‚úÖ Filtrage et tri dynamique\r\n  useEffect(() => {\r\n    const term = searchTerm.toLowerCase();\r\n    let filtered = [...users].filter(\r\n      (u) =>\r\n        u.name?.toLowerCase().includes(term) ||\r\n        u.email?.toLowerCase().includes(term)\r\n    );\r\n\r\n    switch (sortOption) {\r\n      case \"admin\":\r\n        filtered.sort((a, b) => (b.isAdmin ? 1 : 0) - (a.isAdmin ? 1 : 0));\r\n        break;\r\n      case \"name\":\r\n        filtered.sort((a, b) => a.name.localeCompare(b.name));\r\n        break;\r\n      case \"recent\":\r\n        filtered.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setFilteredUsers(filtered);\r\n  }, [searchTerm, users, sortOption]);\r\n\r\n  // ‚úÖ Supprimer un utilisateur\r\n  const handleDelete = async (id) => {\r\n    if (id === user?.id) {\r\n      Swal.fire(\r\n        \"Refus√©\",\r\n        \"Vous ne pouvez pas supprimer votre propre compte.\",\r\n        \"warning\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    const ask = await Swal.fire({\r\n      title: \"Supprimer cet utilisateur ?\",\r\n      text: \"Cette action est irr√©versible.\",\r\n      icon: \"warning\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Oui, supprimer\",\r\n      cancelButtonText: \"Annuler\",\r\n    });\r\n\r\n    if (!ask.isConfirmed) return;\r\n\r\n    try {\r\n      await smartApi.delete(`/users/${id}`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      Swal.fire(\"Supprim√© ‚úÖ\", \"L‚Äôutilisateur a √©t√© supprim√©.\", \"success\");\r\n      fetchUsers();\r\n    } catch (err) {\r\n      console.error(\"Erreur suppression :\", err);\r\n      Swal.fire(\"Erreur\", \"Impossible de supprimer cet utilisateur.\", \"error\");\r\n    }\r\n  };\r\n\r\n  // ‚úÖ Promouvoir un utilisateur\r\n  const handlePromote = async (id) => {\r\n    const ask = await Swal.fire({\r\n      title: \"Promouvoir en administrateur ?\",\r\n      text: \"L‚Äôutilisateur aura acc√®s au panneau d‚Äôadministration.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Promouvoir\",\r\n      cancelButtonText: \"Annuler\",\r\n    });\r\n\r\n    if (!ask.isConfirmed) return;\r\n\r\n    try {\r\n      await smartApi.put(\r\n        `/users/${id}/promote`,\r\n        {},\r\n        { headers: { Authorization: `Bearer ${token}` } }\r\n      );\r\n      Swal.fire(\r\n        \"Succ√®s ‚úÖ\",\r\n        \"L‚Äôutilisateur a √©t√© promu administrateur.\",\r\n        \"success\"\r\n      );\r\n      fetchUsers();\r\n    } catch (err) {\r\n      console.error(\"Erreur promotion :\", err);\r\n      Swal.fire(\"Erreur\", \"Impossible de promouvoir cet utilisateur.\", \"error\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-gray-50 dark:bg-background-dark\">\r\n      <div className=\"flex-1 flex flex-col\">\r\n        <main className=\"p-6\">\r\n          {/* üß≠ En-t√™te */}\r\n          <div className=\"flex flex-col sm:flex-row justify-between items-center mb-6 gap-4\">\r\n            <h2 className=\"text-2xl font-bold text-text-light dark:text-text-dark\">\r\n              Liste des utilisateurs\r\n            </h2>\r\n\r\n            <div className=\"flex flex-wrap gap-3 items-center\">\r\n              {/* üîç Recherche */}\r\n              <div className=\"flex items-center gap-2 w-72 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 shadow-sm\">\r\n                <Search className=\"text-gray-400 w-4 h-4\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Rechercher par nom ou email...\"\r\n                  className=\"w-full bg-transparent outline-none text-sm text-gray-700 dark:text-gray-200\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n\r\n              {/* üîΩ Tri */}\r\n              <div className=\"flex items-center gap-2 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg px-3 py-2 shadow-sm\">\r\n                <ArrowUpDown className=\"w-4 h-4 text-gray-500\" />\r\n                <select\r\n                  value={sortOption}\r\n                  onChange={(e) => setSortOption(e.target.value)}\r\n                  className=\"bg-transparent text-sm outline-none text-gray-700 dark:text-gray-200\"\r\n                >\r\n                  <option value=\"recent\">üìÖ Plus r√©cents</option>\r\n                  <option value=\"name\">üî§ Par nom</option>\r\n                  <option value=\"admin\">üëë Admins d‚Äôabord</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* üîÅ Actualiser */}\r\n              <button\r\n                onClick={fetchUsers}\r\n                className=\"flex items-center gap-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition\"\r\n              >\r\n                <RefreshCw className=\"w-4 h-4\" /> Actualiser\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* üß± Tableau principal */}\r\n          {loading ? (\r\n            <div className=\"flex justify-center items-center py-20 text-gray-500 dark:text-gray-400\">\r\n              <Loader2 className=\"w-6 h-6 mr-2 animate-spin text-primary\" />{\" \"}\r\n              Chargement...\r\n            </div>\r\n          ) : error ? (\r\n            <p className=\"text-red-500\">{error}</p>\r\n          ) : filteredUsers.length === 0 ? (\r\n            <p className=\"text-gray-500 text-center py-10\">\r\n              Aucun utilisateur trouv√©.\r\n            </p>\r\n          ) : (\r\n            <div className=\"overflow-x-auto bg-white dark:bg-card-dark rounded-xl shadow\">\r\n              <table className=\"min-w-full text-sm\">\r\n                <thead>\r\n                  <tr className=\"bg-gray-100 dark:bg-gray-800 text-left text-gray-600 dark:text-gray-300 uppercase text-xs\">\r\n                    <th className=\"py-3 px-4\">Nom</th>\r\n                    <th className=\"py-3 px-4\">Email</th>\r\n                    <th className=\"py-3 px-4 text-center\">R√¥le</th>\r\n                    <th className=\"py-3 px-4 text-center\">\r\n                      Date d‚Äôinscription\r\n                    </th>\r\n                    <th className=\"py-3 px-4 text-center\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredUsers.map((u) => {\r\n                    const isCurrentUser = u._id === user?.id;                    \r\n                    return (\r\n                      <motion.tr\r\n                        key={u._id}\r\n                        initial={{ opacity: 0, y: 10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        transition={{ duration: 0.2 }}\r\n                        className={`border-b border-gray-200 dark:border-gray-700 ${\r\n                          isCurrentUser\r\n                            ? \"bg-gray-100 dark:bg-gray-800 opacity-75\"\r\n                            : \"hover:bg-gray-50 dark:hover:bg-gray-800 transition\"\r\n                        }`}\r\n                      >\r\n                        <td className=\"py-3 px-4 flex items-center gap-2\">\r\n                          <User className=\"w-4 h-4 text-primary\" />\r\n                          {u.name}\r\n                          {isCurrentUser && (\r\n                            <span className=\"ml-2 text-xs text-blue-500 font-semibold\">\r\n                              (Moi)\r\n                            </span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"py-3 px-4\">{u.email}</td>\r\n                        <td className=\"py-3 px-4 text-center\">\r\n                          {u.isAdmin ? (\r\n                            <span className=\"inline-flex items-center gap-1 text-green-600 font-semibold\">\r\n                              <ShieldCheck className=\"w-4 h-4\" /> Admin\r\n                            </span>\r\n                          ) : (\r\n                            <span className=\"text-gray-500\">Utilisateur</span>\r\n                          )}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 text-center text-gray-400\">\r\n                          {new Date(u.createdAt).toLocaleDateString(\"fr-FR\")}\r\n                        </td>\r\n                        <td className=\"py-3 px-4 text-center flex justify-center gap-3\">\r\n                          {isCurrentUser ? (\r\n                            <span\r\n                              className=\"text-gray-400 flex items-center gap-1 cursor-not-allowed\"\r\n                              title=\"Impossible de modifier votre propre compte\"\r\n                            >\r\n                              <Lock className=\"w-4 h-4\" /> Prot√©g√©\r\n                            </span>\r\n                          ) : (\r\n                            <>\r\n                              {!u.isAdmin && (\r\n                                <button\r\n                                  onClick={() => handlePromote(u._id)}\r\n                                  className=\"text-yellow-600 hover:text-yellow-800 flex items-center gap-1\"\r\n                                  title=\"Rendre administrateur\"\r\n                                >\r\n                                  <Crown className=\"w-4 h-4\" /> Promouvoir\r\n                                </button>\r\n                              )}\r\n                              <button\r\n                                onClick={() => handleDelete(u._id)}\r\n                                className=\"text-red-500 hover:text-red-700 flex items-center gap-1\"\r\n                                title=\"Supprimer\"\r\n                              >\r\n                                <Trash2 className=\"w-4 h-4\" /> Supprimer\r\n                              </button>\r\n                            </>\r\n                          )}\r\n                        </td>\r\n                      </motion.tr>\r\n                    );\r\n                  })}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUsers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}