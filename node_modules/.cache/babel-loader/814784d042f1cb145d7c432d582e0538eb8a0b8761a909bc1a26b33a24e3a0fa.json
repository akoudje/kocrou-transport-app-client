{"ast":null,"code":"import _objectSpread from\"C:/React/kocrou-transport -Deploy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import{motion}from\"framer-motion\";import{QRCodeCanvas}from\"qrcode.react\";import html2canvas from\"html2canvas\";import jsPDF from\"jspdf\";import Swal from\"sweetalert2\";import{ArrowLeft,Download,FileDown,CheckCircle2,Loader2}from\"lucide-react\";import smartApi from\"../../utils/smartApi\";// âœ… utilise la config API centralisÃ©e\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminTicketView=()=>{var _trajet$prix;const{id}=useParams();const navigate=useNavigate();const ticketRef=useRef();const[reservation,setReservation]=useState(null);const[loading,setLoading]=useState(true);// ðŸ”¹ Charger la rÃ©servation spÃ©cifique\nuseEffect(()=>{const fetchReservation=async()=>{try{const{data}=await smartApi.get(\"/reservations/admin/reservations\");const found=data.find(r=>r._id===id);setReservation(found||null);}catch(err){console.error(\"Erreur chargement rÃ©servation :\",err);Swal.fire(\"Erreur\",\"Impossible de charger le billet.\",\"error\");}finally{setLoading(false);}};fetchReservation();},[id]);// ðŸ”¹ Validation Ã  lâ€™embarquement\nconst handleValidate=async()=>{const ask=await Swal.fire({title:\"Valider Ã  lâ€™embarquement ?\",text:\"Cette action confirmera que le passager est montÃ© dans le bus.\",icon:\"question\",showCancelButton:true,confirmButtonText:\"Valider\",cancelButtonText:\"Annuler\"});if(!ask.isConfirmed)return;try{await smartApi.put(\"/reservations/admin/reservations/\".concat(id,\"/validate\"));Swal.fire(\"ValidÃ©e âœ…\",\"Le billet a Ã©tÃ© validÃ© Ã  lâ€™embarquement.\",\"success\");setReservation(prev=>_objectSpread(_objectSpread({},prev),{},{statut:\"validÃ©e\"}));}catch(err){console.error(\"Erreur validation :\",err);Swal.fire(\"Erreur\",\"Impossible de valider lâ€™embarquement.\",\"error\");}};// ðŸ”¹ TÃ©lÃ©charger en image\nconst handleDownloadImage=async()=>{var _reservation$trajet,_reservation$trajet2;const canvas=await html2canvas(ticketRef.current,{scale:2});const link=document.createElement(\"a\");link.download=\"ticket-\".concat((_reservation$trajet=reservation.trajet)===null||_reservation$trajet===void 0?void 0:_reservation$trajet.villeDepart,\"-\").concat((_reservation$trajet2=reservation.trajet)===null||_reservation$trajet2===void 0?void 0:_reservation$trajet2.villeArrivee,\".png\");link.href=canvas.toDataURL(\"image/png\");link.click();};// ðŸ”¹ TÃ©lÃ©charger en PDF\nconst handleDownloadPDF=async()=>{var _reservation$trajet3,_reservation$trajet4;const canvas=await html2canvas(ticketRef.current,{scale:2});const imgData=canvas.toDataURL(\"image/png\");const pdf=new jsPDF({orientation:\"portrait\",unit:\"px\",format:\"a4\"});const width=pdf.internal.pageSize.getWidth();const height=canvas.height*width/canvas.width;pdf.addImage(imgData,\"PNG\",0,0,width,height);pdf.save(\"ticket-\".concat((_reservation$trajet3=reservation.trajet)===null||_reservation$trajet3===void 0?void 0:_reservation$trajet3.villeDepart,\"-\").concat((_reservation$trajet4=reservation.trajet)===null||_reservation$trajet4===void 0?void 0:_reservation$trajet4.villeArrivee,\".pdf\"));};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center min-h-screen bg-background-light dark:bg-background-dark text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin w-8 h-8 mb-3 text-primary\"}),\"Chargement du billet...\"]});}if(!reservation){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col justify-center items-center bg-background-light dark:bg-background-dark text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-3\",children:\"Aucune r\\xE9servation trouv\\xE9e.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate(\"/admin/reservations\"),className:\"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90\",children:\"Retour\"})]});}const{trajet,seat,date,user,statut}=reservation;return/*#__PURE__*/_jsx(\"section\",{className:\"min-h-screen bg-background-light dark:bg-background-dark py-10 px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/admin/reservations\"),className:\"flex items-center gap-2 text-primary font-medium mb-6 hover:underline\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4\"}),\" Retour aux r\\xE9servations\"]}),/*#__PURE__*/_jsx(motion.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"text-3xl font-bold mb-8 text-text-light dark:text-text-dark text-center\",children:\"\\uD83C\\uDFAB D\\xE9tail du billet\"}),/*#__PURE__*/_jsxs(motion.div,{ref:ticketRef,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.6},className:\"bg-white dark:bg-card-dark p-8 rounded-2xl shadow-2xl relative overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-full h-2 bg-primary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-primary\",children:\"Kocrou Transport\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"www.kocroutransport.ci\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-50 dark:bg-gray-800 rounded-xl\",children:/*#__PURE__*/_jsx(QRCodeCanvas,{value:\"TICKET-\".concat(trajet.villeDepart,\"-\").concat(trajet.villeArrivee,\"-SEAT\").concat(seat),size:100,bgColor:\"transparent\",fgColor:document.documentElement.classList.contains(\"dark\")?\"#ffffff\":\"#000000\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:\"Client :\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-text-light dark:text-white mb-2\",children:(user===null||user===void 0?void 0:user.name)||\"Utilisateur supprimÃ©\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-dashed border-gray-400 my-4\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"D\\xE9part :\"}),\" \",trajet.villeDepart,\" (\",trajet.heureDepart,\")\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Arriv\\xE9e :\"}),\" \",trajet.villeArrivee,\" \",trajet.heureArrivee&&\"(\".concat(trajet.heureArrivee,\")\")]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Si\\xE8ge :\"}),\" #\",seat]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Date :\"}),\" \",new Date(date).toLocaleDateString(\"fr-FR\")]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3 text-primary font-bold text-xl\",children:[(_trajet$prix=trajet.prix)===null||_trajet$prix===void 0?void 0:_trajet$prix.toLocaleString(),\" FCFA\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-sm font-semibold \".concat(statut===\"validÃ©e\"?\"text-blue-600\":statut===\"confirmÃ©e\"?\"text-green-600\":\"text-red-600\"),children:[\"Statut : \",statut===null||statut===void 0?void 0:statut.toUpperCase()]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-6 border-t-2 border-dashed border-gray-300 relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-3 left-0 w-5 h-5 bg-background-light dark:bg-background-dark rounded-full\"}),/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-3 right-0 w-5 h-5 bg-background-light dark:bg-background-dark rounded-full\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-sm text-gray-500 mt-4\",children:[\"Code :\",\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-mono font-bold text-primary\",children:\"KOC-\".concat(trajet.villeDepart.substring(0,3).toUpperCase(),\"-\").concat(trajet.villeArrivee.substring(0,3).toUpperCase(),\"-\").concat(seat)})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center mt-10 flex flex-wrap justify-center gap-4\",children:[statut===\"confirmÃ©e\"&&/*#__PURE__*/_jsxs(\"button\",{onClick:handleValidate,className:\"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-500 transition\",children:[/*#__PURE__*/_jsx(CheckCircle2,{className:\"w-5 h-5\"}),\" Valider \\xE0 l\\u2019embarquement\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadImage,className:\"flex items-center gap-2 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-5 h-5\"}),\" T\\xE9l\\xE9charger (Image)\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleDownloadPDF,className:\"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-500 transition\",children:[/*#__PURE__*/_jsx(FileDown,{className:\"w-5 h-5\"}),\" Exporter PDF\"]})]})]})});};export default AdminTicketView;","map":{"version":3,"names":["React","useEffect","useRef","useState","useParams","useNavigate","motion","QRCodeCanvas","html2canvas","jsPDF","Swal","ArrowLeft","Download","FileDown","CheckCircle2","Loader2","smartApi","jsx","_jsx","jsxs","_jsxs","AdminTicketView","_trajet$prix","id","navigate","ticketRef","reservation","setReservation","loading","setLoading","fetchReservation","data","get","found","find","r","_id","err","console","error","fire","handleValidate","ask","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","isConfirmed","put","concat","prev","_objectSpread","statut","handleDownloadImage","_reservation$trajet","_reservation$trajet2","canvas","current","scale","link","document","createElement","download","trajet","villeDepart","villeArrivee","href","toDataURL","click","handleDownloadPDF","_reservation$trajet3","_reservation$trajet4","imgData","pdf","orientation","unit","format","width","internal","pageSize","getWidth","height","addImage","save","className","children","onClick","seat","date","user","h1","initial","opacity","y","animate","transition","duration","div","ref","value","size","bgColor","fgColor","documentElement","classList","contains","name","heureDepart","heureArrivee","Date","toLocaleDateString","prix","toLocaleString","toUpperCase","substring"],"sources":["C:/React/kocrou-transport -Deploy/client/src/admin/pages/AdminTicketView.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { QRCodeCanvas } from \"qrcode.react\";\r\nimport html2canvas from \"html2canvas\";\r\nimport jsPDF from \"jspdf\";\r\nimport Swal from \"sweetalert2\";\r\nimport {\r\n  ArrowLeft,\r\n  Download,\r\n  FileDown,\r\n  CheckCircle2,\r\n  Loader2,\r\n} from \"lucide-react\";\r\nimport smartApi from \"../../utils/smartApi\"; // âœ… utilise la config API centralisÃ©e\r\n\r\nconst AdminTicketView = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const ticketRef = useRef();\r\n  const [reservation, setReservation] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // ðŸ”¹ Charger la rÃ©servation spÃ©cifique\r\n  useEffect(() => {\r\n    const fetchReservation = async () => {\r\n      try {\r\n        const { data } = await smartApi.get(`/reservations/admin/reservations`);\r\n        const found = data.find((r) => r._id === id);\r\n        setReservation(found || null);\r\n      } catch (err) {\r\n        console.error(\"Erreur chargement rÃ©servation :\", err);\r\n        Swal.fire(\"Erreur\", \"Impossible de charger le billet.\", \"error\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchReservation();\r\n  }, [id]);\r\n\r\n  // ðŸ”¹ Validation Ã  lâ€™embarquement\r\n  const handleValidate = async () => {\r\n    const ask = await Swal.fire({\r\n      title: \"Valider Ã  lâ€™embarquement ?\",\r\n      text: \"Cette action confirmera que le passager est montÃ© dans le bus.\",\r\n      icon: \"question\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Valider\",\r\n      cancelButtonText: \"Annuler\",\r\n    });\r\n\r\n    if (!ask.isConfirmed) return;\r\n\r\n    try {\r\n      await smartApi.put(`/reservations/admin/reservations/${id}/validate`);\r\n      Swal.fire(\"ValidÃ©e âœ…\", \"Le billet a Ã©tÃ© validÃ© Ã  lâ€™embarquement.\", \"success\");\r\n      setReservation((prev) => ({ ...prev, statut: \"validÃ©e\" }));\r\n    } catch (err) {\r\n      console.error(\"Erreur validation :\", err);\r\n      Swal.fire(\"Erreur\", \"Impossible de valider lâ€™embarquement.\", \"error\");\r\n    }\r\n  };\r\n\r\n  // ðŸ”¹ TÃ©lÃ©charger en image\r\n  const handleDownloadImage = async () => {\r\n    const canvas = await html2canvas(ticketRef.current, { scale: 2 });\r\n    const link = document.createElement(\"a\");\r\n    link.download = `ticket-${reservation.trajet?.villeDepart}-${reservation.trajet?.villeArrivee}.png`;\r\n    link.href = canvas.toDataURL(\"image/png\");\r\n    link.click();\r\n  };\r\n\r\n  // ðŸ”¹ TÃ©lÃ©charger en PDF\r\n  const handleDownloadPDF = async () => {\r\n    const canvas = await html2canvas(ticketRef.current, { scale: 2 });\r\n    const imgData = canvas.toDataURL(\"image/png\");\r\n    const pdf = new jsPDF({ orientation: \"portrait\", unit: \"px\", format: \"a4\" });\r\n    const width = pdf.internal.pageSize.getWidth();\r\n    const height = (canvas.height * width) / canvas.width;\r\n    pdf.addImage(imgData, \"PNG\", 0, 0, width, height);\r\n    pdf.save(\r\n      `ticket-${reservation.trajet?.villeDepart}-${reservation.trajet?.villeArrivee}.pdf`\r\n    );\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen bg-background-light dark:bg-background-dark text-gray-600 dark:text-gray-300\">\r\n        <Loader2 className=\"animate-spin w-8 h-8 mb-3 text-primary\" />\r\n        Chargement du billet...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!reservation) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col justify-center items-center bg-background-light dark:bg-background-dark text-center\">\r\n        <p className=\"text-gray-500 mb-3\">Aucune rÃ©servation trouvÃ©e.</p>\r\n        <button\r\n          onClick={() => navigate(\"/admin/reservations\")}\r\n          className=\"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90\"\r\n        >\r\n          Retour\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const { trajet, seat, date, user, statut } = reservation;\r\n\r\n  return (\r\n    <section className=\"min-h-screen bg-background-light dark:bg-background-dark py-10 px-6\">\r\n      <div className=\"max-w-3xl mx-auto\">\r\n        {/* ðŸ”™ Retour */}\r\n        <button\r\n          onClick={() => navigate(\"/admin/reservations\")}\r\n          className=\"flex items-center gap-2 text-primary font-medium mb-6 hover:underline\"\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4\" /> Retour aux rÃ©servations\r\n        </button>\r\n\r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 40 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-3xl font-bold mb-8 text-text-light dark:text-text-dark text-center\"\r\n        >\r\n          ðŸŽ« DÃ©tail du billet\r\n        </motion.h1>\r\n\r\n        {/* ðŸ§¾ Ticket principal */}\r\n        <motion.div\r\n          ref={ticketRef}\r\n          initial={{ opacity: 0, y: 30 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6 }}\r\n          className=\"bg-white dark:bg-card-dark p-8 rounded-2xl shadow-2xl relative overflow-hidden\"\r\n        >\r\n          <div className=\"absolute top-0 left-0 w-full h-2 bg-primary\"></div>\r\n\r\n          {/* Logo & en-tÃªte */}\r\n          <div className=\"flex justify-between items-center mb-6\">\r\n            <div>\r\n              <h2 className=\"text-xl font-bold text-primary\">Kocrou Transport</h2>\r\n              <p className=\"text-gray-500 text-sm\">www.kocroutransport.ci</p>\r\n            </div>\r\n            <div className=\"p-3 bg-gray-50 dark:bg-gray-800 rounded-xl\">\r\n              <QRCodeCanvas\r\n                value={`TICKET-${trajet.villeDepart}-${trajet.villeArrivee}-SEAT${seat}`}\r\n                size={100}\r\n                bgColor=\"transparent\"\r\n                fgColor={\r\n                  document.documentElement.classList.contains(\"dark\")\r\n                    ? \"#ffffff\"\r\n                    : \"#000000\"\r\n                }\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* DÃ©tails */}\r\n          <div className=\"flex flex-col gap-2\">\r\n            <p className=\"text-sm text-gray-500\">Client :</p>\r\n            <h3 className=\"text-lg font-semibold text-text-light dark:text-white mb-2\">\r\n              {user?.name || \"Utilisateur supprimÃ©\"}\r\n            </h3>\r\n\r\n            <div className=\"border-t border-dashed border-gray-400 my-4\"></div>\r\n\r\n            <p className=\"text-gray-600 dark:text-gray-300\">\r\n              <strong>DÃ©part :</strong> {trajet.villeDepart} ({trajet.heureDepart})\r\n            </p>\r\n            <p className=\"text-gray-600 dark:text-gray-300\">\r\n              <strong>ArrivÃ©e :</strong> {trajet.villeArrivee}{\" \"}\r\n              {trajet.heureArrivee && `(${trajet.heureArrivee})`}\r\n            </p>\r\n            <p className=\"text-gray-600 dark:text-gray-300\">\r\n              <strong>SiÃ¨ge :</strong> #{seat}\r\n            </p>\r\n            <p className=\"text-gray-600 dark:text-gray-300\">\r\n              <strong>Date :</strong> {new Date(date).toLocaleDateString(\"fr-FR\")}\r\n            </p>\r\n\r\n            <div className=\"mt-3 text-primary font-bold text-xl\">\r\n              {trajet.prix?.toLocaleString()} FCFA\r\n            </div>\r\n\r\n            <p\r\n              className={`mt-4 text-sm font-semibold ${\r\n                statut === \"validÃ©e\"\r\n                  ? \"text-blue-600\"\r\n                  : statut === \"confirmÃ©e\"\r\n                  ? \"text-green-600\"\r\n                  : \"text-red-600\"\r\n              }`}\r\n            >\r\n              Statut : {statut?.toUpperCase()}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Code rÃ©servation */}\r\n          <div className=\"my-6 border-t-2 border-dashed border-gray-300 relative\">\r\n            <span className=\"absolute -top-3 left-0 w-5 h-5 bg-background-light dark:bg-background-dark rounded-full\"></span>\r\n            <span className=\"absolute -top-3 right-0 w-5 h-5 bg-background-light dark:bg-background-dark rounded-full\"></span>\r\n          </div>\r\n\r\n          <div className=\"text-center text-sm text-gray-500 mt-4\">\r\n            Code :{\" \"}\r\n            <span className=\"font-mono font-bold text-primary\">\r\n              {`KOC-${trajet.villeDepart.substring(0, 3).toUpperCase()}-${trajet.villeArrivee\r\n                .substring(0, 3)\r\n                .toUpperCase()}-${seat}`}\r\n            </span>\r\n          </div>\r\n        </motion.div>\r\n\r\n        {/* ðŸ“¥ Actions */}\r\n        <div className=\"text-center mt-10 flex flex-wrap justify-center gap-4\">\r\n          {statut === \"confirmÃ©e\" && (\r\n            <button\r\n              onClick={handleValidate}\r\n              className=\"flex items-center gap-2 bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-500 transition\"\r\n            >\r\n              <CheckCircle2 className=\"w-5 h-5\" /> Valider Ã  lâ€™embarquement\r\n            </button>\r\n          )}\r\n\r\n          <button\r\n            onClick={handleDownloadImage}\r\n            className=\"flex items-center gap-2 bg-primary text-white px-6 py-3 rounded-lg hover:bg-primary/90 transition\"\r\n          >\r\n            <Download className=\"w-5 h-5\" /> TÃ©lÃ©charger (Image)\r\n          </button>\r\n\r\n          <button\r\n            onClick={handleDownloadPDF}\r\n            className=\"flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-500 transition\"\r\n          >\r\n            <FileDown className=\"w-5 h-5\" /> Exporter PDF\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default AdminTicketView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}