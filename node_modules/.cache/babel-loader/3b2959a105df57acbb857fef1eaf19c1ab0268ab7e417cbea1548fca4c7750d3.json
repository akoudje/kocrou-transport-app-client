{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{Sun,Moon,UserCircle2,Clock}from\"lucide-react\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AdminHeader=_ref=>{let{title,lastUpdated,onRefresh,loading}=_ref;const[theme,setTheme]=useState(localStorage.getItem(\"theme\")||\"light\");const user=JSON.parse(localStorage.getItem(\"user\"))||{};useEffect(()=>{document.documentElement.classList.toggle(\"dark\",theme===\"dark\");localStorage.setItem(\"theme\",theme);},[theme]);const toggleTheme=()=>setTheme(theme===\"light\"?\"dark\":\"light\");const getTimeSinceUpdate=date=>{if(!date)return\"â€”\";const diff=Math.floor((new Date()-new Date(date))/1000);if(diff<60)return\"il y a \".concat(diff,\"s\");if(diff<3600)return\"il y a \".concat(Math.floor(diff/60),\" min\");return\"il y a \".concat(Math.floor(diff/3600),\" h\");};return/*#__PURE__*/_jsxs(\"header\",{className:\"flex justify-between items-center p-4 bg-white dark:bg-card-dark shadow-sm sticky top-0 z-50\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-text-light dark:text-text-dark\",children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Derni\\xE8re mise \\xE0 jour : \",getTimeSinceUpdate(lastUpdated)]}),/*#__PURE__*/_jsx(\"button\",{onClick:onRefresh,disabled:loading,className:\"ml-4 px-3 py-1 text-sm rounded-md transition flex items-center gap-2 \".concat(loading?\"bg-gray-300 text-gray-500 cursor-not-allowed\":\"bg-blue-500 hover:bg-blue-600 text-white\"),children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"svg\",{className:\"animate-spin h-4 w-4 text-gray-500\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",children:[/*#__PURE__*/_jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),/*#__PURE__*/_jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8v4l5-5-5-5v4a10 10 0 00-10 10h4z\"})]}),\"Chargement...\"]}):\"ðŸ”„ RafraÃ®chir\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleTheme,className:\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\",title:\"Changer le th\\xE8me\",children:theme===\"light\"?/*#__PURE__*/_jsx(Moon,{className:\"w-5 h-5 text-gray-700\"}):/*#__PURE__*/_jsx(Sun,{className:\"w-5 h-5 text-yellow-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300\",children:[/*#__PURE__*/_jsx(UserCircle2,{className:\"w-6 h-6 text-primary\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-semibold\",children:user.name||\"Admin\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs opacity-70\",children:user.email||\"admin@kocrou.com\"})]})]})]})]});};export default AdminHeader;","map":{"version":3,"names":["React","useState","useEffect","Sun","Moon","UserCircle2","Clock","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AdminHeader","_ref","title","lastUpdated","onRefresh","loading","theme","setTheme","localStorage","getItem","user","JSON","parse","document","documentElement","classList","toggle","setItem","toggleTheme","getTimeSinceUpdate","date","diff","Math","floor","Date","concat","className","children","onClick","disabled","xmlns","fill","viewBox","cx","cy","r","stroke","strokeWidth","d","name","email"],"sources":["C:/React/kocrou-transport -Deploy/client/src/admin/components/AdminHeader.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Sun, Moon, UserCircle2, Clock } from \"lucide-react\";\r\n\r\nconst AdminHeader = ({ title, lastUpdated, onRefresh, loading }) => {\r\n  const [theme, setTheme] = useState(localStorage.getItem(\"theme\") || \"light\");\r\n  const user = JSON.parse(localStorage.getItem(\"user\")) || {};\r\n\r\n  useEffect(() => {\r\n    document.documentElement.classList.toggle(\"dark\", theme === \"dark\");\r\n    localStorage.setItem(\"theme\", theme);\r\n  }, [theme]);\r\n\r\n  const toggleTheme = () => setTheme(theme === \"light\" ? \"dark\" : \"light\");\r\n\r\n  const getTimeSinceUpdate = (date) => {\r\n    if (!date) return \"â€”\";\r\n    const diff = Math.floor((new Date() - new Date(date)) / 1000);\r\n    if (diff < 60) return `il y a ${diff}s`;\r\n    if (diff < 3600) return `il y a ${Math.floor(diff / 60)} min`;\r\n    return `il y a ${Math.floor(diff / 3600)} h`;\r\n  };\r\n\r\n  return (\r\n    <header className=\"flex justify-between items-center p-4 bg-white dark:bg-card-dark shadow-sm sticky top-0 z-50\">\r\n      <h1 className=\"text-2xl font-bold text-text-light dark:text-text-dark\">\r\n        {title}\r\n      </h1>\r\n\r\n      <div className=\"flex items-center gap-2\">\r\n        <Clock className=\"w-4 h-4\" />\r\n        <span>DerniÃ¨re mise Ã  jour : {getTimeSinceUpdate(lastUpdated)}</span>\r\n        <button\r\n          onClick={onRefresh}\r\n          disabled={loading}\r\n          className={`ml-4 px-3 py-1 text-sm rounded-md transition flex items-center gap-2 ${\r\n            loading\r\n              ? \"bg-gray-300 text-gray-500 cursor-not-allowed\"\r\n              : \"bg-blue-500 hover:bg-blue-600 text-white\"\r\n          }`}\r\n        >\r\n          {loading ? (\r\n            <>\r\n              <svg\r\n                className=\"animate-spin h-4 w-4 text-gray-500\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <circle\r\n                  className=\"opacity-25\"\r\n                  cx=\"12\"\r\n                  cy=\"12\"\r\n                  r=\"10\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"4\"\r\n                />\r\n                <path\r\n                  className=\"opacity-75\"\r\n                  fill=\"currentColor\"\r\n                  d=\"M4 12a8 8 0 018-8v4l5-5-5-5v4a10 10 0 00-10 10h4z\"\r\n                />\r\n              </svg>\r\n              Chargement...\r\n            </>\r\n          ) : (\r\n            \"ðŸ”„ RafraÃ®chir\"\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"flex items-center gap-4\">\r\n        <button\r\n          onClick={toggleTheme}\r\n          className=\"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700\"\r\n          title=\"Changer le thÃ¨me\"\r\n        >\r\n          {theme === \"light\" ? (\r\n            <Moon className=\"w-5 h-5 text-gray-700\" />\r\n          ) : (\r\n            <Sun className=\"w-5 h-5 text-yellow-400\" />\r\n          )}\r\n        </button>\r\n\r\n        <div className=\"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-300\">\r\n          <UserCircle2 className=\"w-6 h-6 text-primary\" />\r\n          <div>\r\n            <p className=\"font-semibold\">{user.name || \"Admin\"}</p>\r\n            <p className=\"text-xs opacity-70\">\r\n              {user.email || \"admin@kocrou.com\"}\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default AdminHeader;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}