{"ast":null,"code":"import React,{useEffect,useState,useRef}from\"react\";import{Card,Table,Tag,message}from\"antd\";import{io}from\"socket.io-client\";import smartApi from\"../../utils/smartApi\";import dayjs from\"dayjs\";import{Activity,TrendingUp}from\"lucide-react\";import{LineChart,Line,ResponsiveContainer,Tooltip,XAxis,YAxis,Legend,CartesianGrid}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminLiveMonitor=()=>{const[admins,setAdmins]=useState([]);const[reservations,setReservations]=useState([]);const[connectedCount,setConnectedCount]=useState(0);const[activityData,setActivityData]=useState([]);const dataRef=useRef([]);const token=localStorage.getItem(\"token\");useEffect(()=>{const socket=io(smartApi.defaults.baseURL,{transports:[\"websocket\"],auth:{token}// âœ… envoi du JWT ici\n});socket.on(\"connect\",()=>{console.log(\"ðŸŸ¢ [LiveMonitor] Socket connectÃ© avec JWT\");socket.emit(\"admin_join\",{email:\"monitoring@kocrou\"});});socket.on(\"disconnect\",()=>{console.warn(\"ðŸ”´ [LiveMonitor] Socket dÃ©connectÃ©\");});socket.on(\"monitoring_update\",data=>{if(data.admins)setAdmins(data.admins);if(data.adminCount!==undefined){setConnectedCount(data.adminCount);updateChart(data.adminCount,reservations.length);}});socket.on(\"reservation_created\",data=>{var _data$trajet,_data$trajet2;message.success(\"\\uD83D\\uDE8D R\\xE9servation cr\\xE9\\xE9e (\".concat((_data$trajet=data.trajet)===null||_data$trajet===void 0?void 0:_data$trajet.villeDepart,\" \\u2192 \").concat((_data$trajet2=data.trajet)===null||_data$trajet2===void 0?void 0:_data$trajet2.villeArrivee,\")\"));fetchReservations();});socket.on(\"reservation_deleted\",()=>{message.info(\"\\u274C R\\xE9servation annul\\xE9e\");fetchReservations();});const pingInterval=setInterval(()=>{socket.emit(\"admin_ping\",{email:\"monitoring@kocrou\"});},15000);fetchMonitoringSnapshot();return()=>{clearInterval(pingInterval);socket.disconnect();};},[]);const updateChart=(adminCount,reservationCount)=>{const timestamp=dayjs().format(\"HH:mm:ss\");const newPoint={time:timestamp,admins:adminCount,reservations:reservationCount};dataRef.current=[...dataRef.current,newPoint].slice(-15);setActivityData([...dataRef.current]);};const fetchMonitoringSnapshot=async()=>{try{const{data}=await smartApi.get(\"/monitoring\");if(data.success){var _data$recentReservati;setAdmins(data.admins||[]);setReservations(data.recentReservations||[]);setConnectedCount(data.connectedAdmins||0);updateChart(data.connectedAdmins||0,((_data$recentReservati=data.recentReservations)===null||_data$recentReservati===void 0?void 0:_data$recentReservati.length)||0);}}catch(err){console.error(\"Erreur chargement monitoring :\",err);}};const fetchReservations=async()=>{try{var _data$data;const{data}=await smartApi.get(\"/reservations/admin/reservations?limit=5\");setReservations(data.data||[]);updateChart(connectedCount,((_data$data=data.data)===null||_data$data===void 0?void 0:_data$data.length)||0);}catch(err){console.error(\"Erreur chargement rÃ©servations :\",err);}};const adminColumns=[{title:\"Email\",dataIndex:\"email\",key:\"email\"},{title:\"DerniÃ¨re activitÃ©\",dataIndex:\"lastActive\",render:text=>text?dayjs(text).format(\"DD/MM/YYYY HH:mm:ss\"):\"â€”\"},{title:\"Statut\",render:()=>/*#__PURE__*/_jsx(Tag,{color:\"green\",className:\"font-semibold\",children:\"\\uD83D\\uDFE2 En ligne\"})}];const reservationColumns=[{title:\"Client\",dataIndex:[\"user\",\"email\"],key:\"user\"},{title:\"Trajet\",render:r=>{var _r$trajet,_r$trajet2;return\"\".concat((_r$trajet=r.trajet)===null||_r$trajet===void 0?void 0:_r$trajet.villeDepart,\" \\u2192 \").concat(((_r$trajet2=r.trajet)===null||_r$trajet2===void 0?void 0:_r$trajet2.villeArrivee)||\"-\");}},{title:\"Compagnie\",dataIndex:[\"trajet\",\"compagnie\"]},{title:\"Date\",dataIndex:\"createdAt\",render:t=>dayjs(t).format(\"DD/MM/YYYY HH:mm\")}];return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Activity,{className:\"text-green-500 w-6 h-6\"}),\" Monitoring en direct\"]}),/*#__PURE__*/_jsx(Card,{title:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(TrendingUp,{className:\"w-5 h-5 text-indigo-500\"}),\"Activit\\xE9 en temps r\\xE9el\"]}),className:\"shadow-md\",children:/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:250,children:/*#__PURE__*/_jsxs(LineChart,{data:activityData,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\",strokeOpacity:0.2}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"time\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{contentStyle:{backgroundColor:\"#fff\",borderRadius:8},formatter:(value,name)=>name===\"admins\"?[\"\".concat(value),\"ðŸ‘‘ Admins\"]:[\"\".concat(value),\"ðŸšŒ RÃ©servations\"]}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"admins\",stroke:\"#16a34a\",strokeWidth:2,dot:false}),/*#__PURE__*/_jsx(Line,{type:\"monotone\",dataKey:\"reservations\",stroke:\"#8b5cf6\",strokeWidth:2,dot:false})]})})}),/*#__PURE__*/_jsx(Card,{title:\"Administrateurs connect\\xE9s (\".concat(connectedCount,\")\"),bordered:true,className:\"shadow-md\",children:/*#__PURE__*/_jsx(Table,{columns:adminColumns,dataSource:admins,rowKey:\"email\",pagination:false})}),/*#__PURE__*/_jsx(Card,{title:\"Derni\\xE8res r\\xE9servations\",bordered:true,className:\"shadow-md\",children:/*#__PURE__*/_jsx(Table,{columns:reservationColumns,dataSource:reservations,rowKey:\"_id\",pagination:false})})]});};export default AdminLiveMonitor;","map":{"version":3,"names":["React","useEffect","useState","useRef","Card","Table","Tag","message","io","smartApi","dayjs","Activity","TrendingUp","LineChart","Line","ResponsiveContainer","Tooltip","XAxis","YAxis","Legend","CartesianGrid","jsx","_jsx","jsxs","_jsxs","AdminLiveMonitor","admins","setAdmins","reservations","setReservations","connectedCount","setConnectedCount","activityData","setActivityData","dataRef","token","localStorage","getItem","socket","defaults","baseURL","transports","auth","on","console","log","emit","email","warn","data","adminCount","undefined","updateChart","length","_data$trajet","_data$trajet2","success","concat","trajet","villeDepart","villeArrivee","fetchReservations","info","pingInterval","setInterval","fetchMonitoringSnapshot","clearInterval","disconnect","reservationCount","timestamp","format","newPoint","time","current","slice","get","_data$recentReservati","recentReservations","connectedAdmins","err","error","_data$data","adminColumns","title","dataIndex","key","render","text","color","className","children","reservationColumns","r","_r$trajet","_r$trajet2","t","width","height","strokeDasharray","strokeOpacity","dataKey","contentStyle","backgroundColor","borderRadius","formatter","value","name","type","stroke","strokeWidth","dot","bordered","columns","dataSource","rowKey","pagination"],"sources":["C:/React/kocrou-transport -Deploy/client/src/admin/pages/AdminLiveMonitor.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { Card, Table, Tag, message } from \"antd\";\r\nimport { io } from \"socket.io-client\";\r\nimport smartApi from \"../../utils/smartApi\";\r\nimport dayjs from \"dayjs\";\r\nimport { Activity, TrendingUp } from \"lucide-react\";\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n  Legend,\r\n  CartesianGrid,\r\n} from \"recharts\";\r\n\r\nconst AdminLiveMonitor = () => {\r\n  const [admins, setAdmins] = useState([]);\r\n  const [reservations, setReservations] = useState([]);\r\n  const [connectedCount, setConnectedCount] = useState(0);\r\n  const [activityData, setActivityData] = useState([]);\r\n  const dataRef = useRef([]);\r\n  const token = localStorage.getItem(\"token\");\r\n\r\n  useEffect(() => {\r\n    const socket = io(smartApi.defaults.baseURL, {\r\n      transports: [\"websocket\"],\r\n      auth: { token }, // âœ… envoi du JWT ici\r\n    });\r\n\r\n    socket.on(\"connect\", () => {\r\n      console.log(\"ðŸŸ¢ [LiveMonitor] Socket connectÃ© avec JWT\");\r\n      socket.emit(\"admin_join\", { email: \"monitoring@kocrou\" });\r\n    });\r\n\r\n    socket.on(\"disconnect\", () => {\r\n      console.warn(\"ðŸ”´ [LiveMonitor] Socket dÃ©connectÃ©\");\r\n    });\r\n\r\n    socket.on(\"monitoring_update\", (data) => {\r\n      if (data.admins) setAdmins(data.admins);\r\n      if (data.adminCount !== undefined) {\r\n        setConnectedCount(data.adminCount);\r\n        updateChart(data.adminCount, reservations.length);\r\n      }\r\n    });\r\n\r\n    socket.on(\"reservation_created\", (data) => {\r\n      message.success(`ðŸš RÃ©servation crÃ©Ã©e (${data.trajet?.villeDepart} â†’ ${data.trajet?.villeArrivee})`);\r\n      fetchReservations();\r\n    });\r\n\r\n    socket.on(\"reservation_deleted\", () => {\r\n      message.info(`âŒ RÃ©servation annulÃ©e`);\r\n      fetchReservations();\r\n    });\r\n\r\n    const pingInterval = setInterval(() => {\r\n      socket.emit(\"admin_ping\", { email: \"monitoring@kocrou\" });\r\n    }, 15000);\r\n\r\n    fetchMonitoringSnapshot();\r\n\r\n    return () => {\r\n      clearInterval(pingInterval);\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const updateChart = (adminCount, reservationCount) => {\r\n    const timestamp = dayjs().format(\"HH:mm:ss\");\r\n    const newPoint = { time: timestamp, admins: adminCount, reservations: reservationCount };\r\n    dataRef.current = [...dataRef.current, newPoint].slice(-15);\r\n    setActivityData([...dataRef.current]);\r\n  };\r\n\r\n  const fetchMonitoringSnapshot = async () => {\r\n    try {\r\n      const { data } = await smartApi.get(\"/monitoring\");\r\n      if (data.success) {\r\n        setAdmins(data.admins || []);\r\n        setReservations(data.recentReservations || []);\r\n        setConnectedCount(data.connectedAdmins || 0);\r\n        updateChart(data.connectedAdmins || 0, data.recentReservations?.length || 0);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Erreur chargement monitoring :\", err);\r\n    }\r\n  };\r\n\r\n  const fetchReservations = async () => {\r\n    try {\r\n      const { data } = await smartApi.get(\"/reservations/admin/reservations?limit=5\");\r\n      setReservations(data.data || []);\r\n      updateChart(connectedCount, data.data?.length || 0);\r\n    } catch (err) {\r\n      console.error(\"Erreur chargement rÃ©servations :\", err);\r\n    }\r\n  };\r\n\r\n  const adminColumns = [\r\n    { title: \"Email\", dataIndex: \"email\", key: \"email\" },\r\n    {\r\n      title: \"DerniÃ¨re activitÃ©\",\r\n      dataIndex: \"lastActive\",\r\n      render: (text) => (text ? dayjs(text).format(\"DD/MM/YYYY HH:mm:ss\") : \"â€”\"),\r\n    },\r\n    {\r\n      title: \"Statut\",\r\n      render: () => (\r\n        <Tag color=\"green\" className=\"font-semibold\">\r\n          ðŸŸ¢ En ligne\r\n        </Tag>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  const reservationColumns = [\r\n    { title: \"Client\", dataIndex: [\"user\", \"email\"], key: \"user\" },\r\n    {\r\n      title: \"Trajet\",\r\n      render: (r) => `${r.trajet?.villeDepart} â†’ ${r.trajet?.villeArrivee || \"-\"}`,\r\n    },\r\n    {\r\n      title: \"Compagnie\",\r\n      dataIndex: [\"trajet\", \"compagnie\"],\r\n    },\r\n    {\r\n      title: \"Date\",\r\n      dataIndex: \"createdAt\",\r\n      render: (t) => dayjs(t).format(\"DD/MM/YYYY HH:mm\"),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      <h2 className=\"text-2xl font-bold text-gray-800 dark:text-gray-100 flex items-center gap-2\">\r\n        <Activity className=\"text-green-500 w-6 h-6\" /> Monitoring en direct\r\n      </h2>\r\n\r\n      <Card\r\n        title={\r\n          <div className=\"flex items-center gap-2\">\r\n            <TrendingUp className=\"w-5 h-5 text-indigo-500\" />\r\n            ActivitÃ© en temps rÃ©el\r\n          </div>\r\n        }\r\n        className=\"shadow-md\"\r\n      >\r\n        <ResponsiveContainer width=\"100%\" height={250}>\r\n          <LineChart data={activityData}>\r\n            <CartesianGrid strokeDasharray=\"3 3\" strokeOpacity={0.2} />\r\n            <XAxis dataKey=\"time\" />\r\n            <YAxis />\r\n            <Tooltip\r\n              contentStyle={{ backgroundColor: \"#fff\", borderRadius: 8 }}\r\n              formatter={(value, name) =>\r\n                name === \"admins\" ? [`${value}`, \"ðŸ‘‘ Admins\"] : [`${value}`, \"ðŸšŒ RÃ©servations\"]}\r\n            />\r\n            <Legend />\r\n            <Line type=\"monotone\" dataKey=\"admins\" stroke=\"#16a34a\" strokeWidth={2} dot={false} />\r\n            <Line type=\"monotone\" dataKey=\"reservations\" stroke=\"#8b5cf6\" strokeWidth={2} dot={false} />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </Card>\r\n\r\n      <Card title={`Administrateurs connectÃ©s (${connectedCount})`} bordered className=\"shadow-md\">\r\n        <Table columns={adminColumns} dataSource={admins} rowKey=\"email\" pagination={false} />\r\n      </Card>\r\n\r\n      <Card title=\"DerniÃ¨res rÃ©servations\" bordered className=\"shadow-md\">\r\n        <Table columns={reservationColumns} dataSource={reservations} rowKey=\"_id\" pagination={false} />\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLiveMonitor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}