{"ast":null,"code":"import _objectSpread from\"C:/React/kocrou-transport -Deploy/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// client/src/pages/SearchResults.js\nimport React,{useEffect,useState}from\"react\";import{useLocation,useNavigate}from\"react-router-dom\";import{motion}from\"framer-motion\";import{ArrowLeft,Bus,Loader2,MapPin}from\"lucide-react\";import Swal from\"sweetalert2\";import withReactContent from\"sweetalert2-react-content\";import{io}from\"socket.io-client\";import smartApi from\"../utils/smartApi\";// üîå Connexion WebSocket globale\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const socket=io(process.env.REACT_APP_API_BASE_URL||\"http://localhost:5000\",{transports:[\"websocket\"]});const SearchResults=()=>{const navigate=useNavigate();const{search}=useLocation();const params=new URLSearchParams(search);const depart=params.get(\"depart\")||\"\";const arrivee=params.get(\"arrivee\")||\"\";const[results,setResults]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(\"\");const MySwal=withReactContent(Swal);/* -------------------------------------------------------------\r\n   * üì¶ Charger les trajets filtr√©s depuis l'API\r\n   * ----------------------------------------------------------- */const fetchResults=async()=>{try{setLoading(true);const{data}=await smartApi.get(\"/trajets\",{params:{depart,arrivee}});const trajets=data.data||data;const formattedResults=trajets.flatMap(trajet=>{var _trajet$segments;const segmentsIndependants=((_trajet$segments=trajet.segments)===null||_trajet$segments===void 0?void 0:_trajet$segments.map((s,index)=>({// ‚ö†Ô∏è ID virtuel uniquement pour React key\n_id:\"\".concat(trajet._id,\"-seg-\").concat(index),type:\"segment\",trajetId:trajet._id,// ‚úÖ vrai ID MongoDB utilis√© pour la r√©servation\nvilleDepart:s.depart,villeArrivee:s.arrivee,prixTotal:s.prix,compagnie:trajet.compagnie,nombrePlaces:trajet.nombrePlaces,placesRestantes:trajet.placesRestantes})))||[];const trajetPrincipal={_id:trajet._id,type:\"principal\",trajetId:trajet._id,villeDepart:trajet.villeDepart,villeArrivee:trajet.villeArrivee,prixTotal:trajet.prixTotal||trajet.prix,compagnie:trajet.compagnie,nombrePlaces:trajet.nombrePlaces,placesRestantes:trajet.placesRestantes};return[trajetPrincipal,...segmentsIndependants];});setResults(formattedResults);}catch(err){console.error(\"‚ùå Erreur chargement trajets :\",err);setError(\"Impossible de charger les trajets. V√©rifiez votre connexion.\");}finally{setLoading(false);}};/* -------------------------------------------------------------\r\n   * üîÅ Mise √† jour temps r√©el avec Socket.io\r\n   * ----------------------------------------------------------- */useEffect(()=>{fetchResults();socket.on(\"reservation_created\",r=>{var _r$trajet,_r$trajet2;console.log(\"üÜï R√©servation cr√©√©e :\",r);// ‚úÖ Toast visuel (SweetAlert2)\nMySwal.fire({toast:true,position:\"top-end\",icon:\"success\",title:\"\\uD83D\\uDE8D Nouveau passager r\\xE9serv\\xE9 sur \".concat(((_r$trajet=r.trajet)===null||_r$trajet===void 0?void 0:_r$trajet.villeDepart)||\"?\",\" \\u2192 \").concat(((_r$trajet2=r.trajet)===null||_r$trajet2===void 0?void 0:_r$trajet2.villeArrivee)||\"?\"),showConfirmButton:false,timer:4000,timerProgressBar:true,background:\"#f0fdf4\",color:\"#166534\"});fetchResults();});socket.on(\"reservation_deleted\",r=>{console.log(\"‚ùå R√©servation annul√©e :\",r);MySwal.fire({toast:true,position:\"top-end\",icon:\"info\",title:\"ü™ë Une place vient d‚Äô√™tre lib√©r√©e !\",showConfirmButton:false,timer:3000,timerProgressBar:true,background:\"#eff6ff\",color:\"#1e3a8a\"});fetchResults();});socket.on(\"reservation_updated\",r=>{console.log(\"üîÑ R√©servation mise √† jour :\",r);fetchResults();});return()=>{socket.off(\"reservation_created\");socket.off(\"reservation_updated\");socket.off(\"reservation_deleted\");};},[depart,arrivee]);/* -------------------------------------------------------------\r\n   * üåÄ √âtats de chargement et d‚Äôerreur\r\n   * ----------------------------------------------------------- */if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col justify-center items-center min-h-screen text-center\",children:[/*#__PURE__*/_jsx(Loader2,{className:\"animate-spin text-primary w-10 h-10 mb-3\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Recherche des trajets disponibles...\"})]});}if(error){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col justify-center items-center text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 bg-red-100 p-3 rounded-lg mb-4\",children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),className:\"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition\",children:\"R\\xE9essayer\"})]});}/* -------------------------------------------------------------\r\n   * üß≠ Affichage principal\r\n   * ----------------------------------------------------------- */return/*#__PURE__*/_jsx(\"section\",{className:\"min-h-screen bg-background-light dark:bg-background-dark py-12 px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate(\"/\"),className:\"flex items-center gap-2 text-primary font-medium mb-6 hover:underline\",type:\"button\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-4 h-4\"}),\" Retour \\xE0 l'accueil\"]}),/*#__PURE__*/_jsxs(motion.h1,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"text-3xl font-bold mb-8 text-center\",children:[\"Trajets disponibles \\u2014\",\" \",/*#__PURE__*/_jsxs(\"span\",{className:\"text-primary font-extrabold\",children:[depart,\" \\u2192 \",arrivee]})]}),results.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-20 text-gray-500\",children:\"Aucun trajet trouv\\xE9 pour cette recherche \\uD83D\\uDE22\"}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-6\",children:results.map(trajet=>/*#__PURE__*/_jsx(TrajetCard,{trajet:trajet,navigate:navigate},trajet._id))})]})});};/* -------------------------------------------------------------\r\n * üß© Carte individuelle d‚Äôun trajet ou segment\r\n * ----------------------------------------------------------- */const TrajetCard=_ref=>{var _ref2,_trajet$placesRestant;let{trajet,navigate}=_ref;const placesRestantes=(_ref2=(_trajet$placesRestant=trajet.placesRestantes)!==null&&_trajet$placesRestant!==void 0?_trajet$placesRestant:trajet.nombrePlaces)!==null&&_ref2!==void 0?_ref2:0;const couleurDisponibilite=placesRestantes<=5?\"text-red-500\":placesRestantes<=10?\"text-orange-500\":\"text-green-600\";return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:0.3},className:\"bg-card-light dark:bg-card-dark p-6 rounded-xl shadow hover:shadow-lg transition\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-3\",children:[/*#__PURE__*/_jsx(Bus,{className:\"w-8 h-8 text-primary\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-extrabold text-xl\",children:[trajet.villeDepart,\" \\u2192 \",trajet.villeArrivee]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 flex items-center gap-1 mt-1\",children:[/*#__PURE__*/_jsx(MapPin,{className:\"w-4 h-4 text-primary\"}),trajet.compagnie||\"Kocrou Transport & Fr√®res\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-5 flex justify-between items-center flex-wrap gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col text-left\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"font-semibold text-primary text-lg\",children:[trajet.prixTotal.toLocaleString(),\" FCFA\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm \".concat(couleurDisponibilite),children:placesRestantes>0?\"\".concat(placesRestantes,\" place\").concat(placesRestantes>1?\"s\":\"\",\" restante\").concat(placesRestantes>1?\"s\":\"\"):\"Complet ‚ùå\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:placesRestantes===0,onClick:()=>navigate(\"/reservation/\".concat(trajet.trajetId),{state:{trajet:_objectSpread(_objectSpread({},trajet),{},{_id:trajet.trajetId// ‚úÖ force l'ID MongoDB correct\n}),segment:trajet.type===\"segment\"?{depart:trajet.villeDepart,arrivee:trajet.villeArrivee,prix:trajet.prixTotal}:null}}),className:\"px-5 py-2 rounded-lg text-white font-medium transition \".concat(placesRestantes===0?\"bg-gray-400 cursor-not-allowed\":\"bg-primary hover:bg-primary/90\"),children:placesRestantes===0?\"Complet\":\"R√©server\"})]})]});};export default SearchResults;","map":{"version":3,"names":["React","useEffect","useState","useLocation","useNavigate","motion","ArrowLeft","Bus","Loader2","MapPin","Swal","withReactContent","io","smartApi","jsx","_jsx","jsxs","_jsxs","socket","process","env","REACT_APP_API_BASE_URL","transports","SearchResults","navigate","search","params","URLSearchParams","depart","get","arrivee","results","setResults","loading","setLoading","error","setError","MySwal","fetchResults","data","trajets","formattedResults","flatMap","trajet","_trajet$segments","segmentsIndependants","segments","map","s","index","_id","concat","type","trajetId","villeDepart","villeArrivee","prixTotal","prix","compagnie","nombrePlaces","placesRestantes","trajetPrincipal","err","console","on","r","_r$trajet","_r$trajet2","log","fire","toast","position","icon","title","showConfirmButton","timer","timerProgressBar","background","color","off","className","children","onClick","window","location","reload","h1","initial","opacity","y","animate","transition","duration","length","TrajetCard","_ref","_ref2","_trajet$placesRestant","couleurDisponibilite","div","whileInView","toLocaleString","disabled","state","_objectSpread","segment"],"sources":["C:/React/kocrou-transport -Deploy/client/src/pages/SearchResults.js"],"sourcesContent":["// client/src/pages/SearchResults.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { motion } from \"framer-motion\";\r\nimport { ArrowLeft, Bus, Loader2, MapPin } from \"lucide-react\";\r\nimport Swal from \"sweetalert2\";\r\nimport withReactContent from \"sweetalert2-react-content\";\r\nimport { io } from \"socket.io-client\";\r\nimport smartApi from \"../utils/smartApi\";\r\n\r\n// üîå Connexion WebSocket globale\r\nconst socket = io(process.env.REACT_APP_API_BASE_URL || \"http://localhost:5000\", {\r\n  transports: [\"websocket\"],\r\n});\r\n\r\nconst SearchResults = () => {\r\n  const navigate = useNavigate();\r\n  const { search } = useLocation();\r\n  const params = new URLSearchParams(search);\r\n\r\n  const depart = params.get(\"depart\") || \"\";\r\n  const arrivee = params.get(\"arrivee\") || \"\";\r\n\r\n  const [results, setResults] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n  const MySwal = withReactContent(Swal);\r\n\r\n  /* -------------------------------------------------------------\r\n   * üì¶ Charger les trajets filtr√©s depuis l'API\r\n   * ----------------------------------------------------------- */\r\n  const fetchResults = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const { data } = await smartApi.get(\"/trajets\", { params: { depart, arrivee } });\r\n      const trajets = data.data || data;\r\n\r\n      const formattedResults = trajets.flatMap((trajet) => {\r\n        const segmentsIndependants =\r\n          trajet.segments?.map((s, index) => ({\r\n            // ‚ö†Ô∏è ID virtuel uniquement pour React key\r\n            _id: `${trajet._id}-seg-${index}`,\r\n            type: \"segment\",\r\n            trajetId: trajet._id, // ‚úÖ vrai ID MongoDB utilis√© pour la r√©servation\r\n            villeDepart: s.depart,\r\n            villeArrivee: s.arrivee,\r\n            prixTotal: s.prix,\r\n            compagnie: trajet.compagnie,\r\n            nombrePlaces: trajet.nombrePlaces,\r\n            placesRestantes: trajet.placesRestantes,\r\n          })) || [];\r\n\r\n        const trajetPrincipal = {\r\n          _id: trajet._id,\r\n          type: \"principal\",\r\n          trajetId: trajet._id,\r\n          villeDepart: trajet.villeDepart,\r\n          villeArrivee: trajet.villeArrivee,\r\n          prixTotal: trajet.prixTotal || trajet.prix,\r\n          compagnie: trajet.compagnie,\r\n          nombrePlaces: trajet.nombrePlaces,\r\n          placesRestantes: trajet.placesRestantes,\r\n        };\r\n\r\n        return [trajetPrincipal, ...segmentsIndependants];\r\n      });\r\n\r\n      setResults(formattedResults);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Erreur chargement trajets :\", err);\r\n      setError(\"Impossible de charger les trajets. V√©rifiez votre connexion.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /* -------------------------------------------------------------\r\n   * üîÅ Mise √† jour temps r√©el avec Socket.io\r\n   * ----------------------------------------------------------- */\r\n  useEffect(() => {\r\n    fetchResults();\r\n\r\n    socket.on(\"reservation_created\", (r) => {\r\n      console.log(\"üÜï R√©servation cr√©√©e :\", r);\r\n\r\n      // ‚úÖ Toast visuel (SweetAlert2)\r\n      MySwal.fire({\r\n        toast: true,\r\n        position: \"top-end\",\r\n        icon: \"success\",\r\n        title: `üöç Nouveau passager r√©serv√© sur ${\r\n          r.trajet?.villeDepart || \"?\"\r\n        } ‚Üí ${r.trajet?.villeArrivee || \"?\"}`,\r\n        showConfirmButton: false,\r\n        timer: 4000,\r\n        timerProgressBar: true,\r\n        background: \"#f0fdf4\",\r\n        color: \"#166534\",\r\n      });\r\n\r\n      fetchResults();\r\n    });\r\n\r\n    socket.on(\"reservation_deleted\", (r) => {\r\n      console.log(\"‚ùå R√©servation annul√©e :\", r);\r\n\r\n      MySwal.fire({\r\n        toast: true,\r\n        position: \"top-end\",\r\n        icon: \"info\",\r\n        title: \"ü™ë Une place vient d‚Äô√™tre lib√©r√©e !\",\r\n        showConfirmButton: false,\r\n        timer: 3000,\r\n        timerProgressBar: true,\r\n        background: \"#eff6ff\",\r\n        color: \"#1e3a8a\",\r\n      });\r\n\r\n      fetchResults();\r\n    });\r\n\r\n    socket.on(\"reservation_updated\", (r) => {\r\n      console.log(\"üîÑ R√©servation mise √† jour :\", r);\r\n      fetchResults();\r\n    });\r\n\r\n    return () => {\r\n      socket.off(\"reservation_created\");\r\n      socket.off(\"reservation_updated\");\r\n      socket.off(\"reservation_deleted\");\r\n    };\r\n  }, [depart, arrivee]);\r\n\r\n  /* -------------------------------------------------------------\r\n   * üåÄ √âtats de chargement et d‚Äôerreur\r\n   * ----------------------------------------------------------- */\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center min-h-screen text-center\">\r\n        <Loader2 className=\"animate-spin text-primary w-10 h-10 mb-3\" />\r\n        <p className=\"text-gray-600\">Recherche des trajets disponibles...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen flex flex-col justify-center items-center text-center\">\r\n        <p className=\"text-red-500 bg-red-100 p-3 rounded-lg mb-4\">{error}</p>\r\n        <button\r\n          onClick={() => window.location.reload()}\r\n          className=\"bg-primary text-white px-4 py-2 rounded-lg hover:bg-primary/90 transition\"\r\n        >\r\n          R√©essayer\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* -------------------------------------------------------------\r\n   * üß≠ Affichage principal\r\n   * ----------------------------------------------------------- */\r\n  return (\r\n    <section className=\"min-h-screen bg-background-light dark:bg-background-dark py-12 px-6\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <button\r\n          onClick={() => navigate(\"/\")}\r\n          className=\"flex items-center gap-2 text-primary font-medium mb-6 hover:underline\"\r\n          type=\"button\"\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4\" /> Retour √† l'accueil\r\n        </button>\r\n\r\n        <motion.h1\r\n          initial={{ opacity: 0, y: 40 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-3xl font-bold mb-8 text-center\"\r\n        >\r\n          Trajets disponibles ‚Äî{\" \"}\r\n          <span className=\"text-primary font-extrabold\">\r\n            {depart} ‚Üí {arrivee}\r\n          </span>\r\n        </motion.h1>\r\n\r\n        {results.length === 0 ? (\r\n          <div className=\"text-center py-20 text-gray-500\">\r\n            Aucun trajet trouv√© pour cette recherche üò¢\r\n          </div>\r\n        ) : (\r\n          <div className=\"space-y-6\">\r\n            {results.map((trajet) => (\r\n              <TrajetCard key={trajet._id} trajet={trajet} navigate={navigate} />\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\n/* -------------------------------------------------------------\r\n * üß© Carte individuelle d‚Äôun trajet ou segment\r\n * ----------------------------------------------------------- */\r\nconst TrajetCard = ({ trajet, navigate }) => {\r\n  const placesRestantes = trajet.placesRestantes ?? trajet.nombrePlaces ?? 0;\r\n\r\n  const couleurDisponibilite =\r\n    placesRestantes <= 5\r\n      ? \"text-red-500\"\r\n      : placesRestantes <= 10\r\n      ? \"text-orange-500\"\r\n      : \"text-green-600\";\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, y: 20 }}\r\n      whileInView={{ opacity: 1, y: 0 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"bg-card-light dark:bg-card-dark p-6 rounded-xl shadow hover:shadow-lg transition\"\r\n    >\r\n      <div className=\"flex items-center gap-4 mb-3\">\r\n        <Bus className=\"w-8 h-8 text-primary\" />\r\n        <div>\r\n          <h3 className=\"font-extrabold text-xl\">\r\n            {trajet.villeDepart} ‚Üí {trajet.villeArrivee}\r\n          </h3>\r\n          <p className=\"text-sm text-gray-600 flex items-center gap-1 mt-1\">\r\n            <MapPin className=\"w-4 h-4 text-primary\" />\r\n            {trajet.compagnie || \"Kocrou Transport & Fr√®res\"}\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-5 flex justify-between items-center flex-wrap gap-3\">\r\n        <div className=\"flex flex-col text-left\">\r\n          <p className=\"font-semibold text-primary text-lg\">\r\n            {trajet.prixTotal.toLocaleString()} FCFA\r\n          </p>\r\n          <p className={`text-sm ${couleurDisponibilite}`}>\r\n            {placesRestantes > 0\r\n              ? `${placesRestantes} place${\r\n                  placesRestantes > 1 ? \"s\" : \"\"\r\n                } restante${placesRestantes > 1 ? \"s\" : \"\"}`\r\n              : \"Complet ‚ùå\"}\r\n          </p>\r\n        </div>\r\n\r\n        <button\r\n          type=\"button\"\r\n          disabled={placesRestantes === 0}\r\n          onClick={() =>\r\n            navigate(`/reservation/${trajet.trajetId}`, {\r\n              state: {\r\n                trajet: {\r\n                  ...trajet,\r\n                  _id: trajet.trajetId, // ‚úÖ force l'ID MongoDB correct\r\n                },\r\n                segment:\r\n                  trajet.type === \"segment\"\r\n                    ? {\r\n                        depart: trajet.villeDepart,\r\n                        arrivee: trajet.villeArrivee,\r\n                        prix: trajet.prixTotal,\r\n                      }\r\n                    : null,\r\n              },\r\n            })\r\n          }\r\n          className={`px-5 py-2 rounded-lg text-white font-medium transition ${\r\n            placesRestantes === 0\r\n              ? \"bg-gray-400 cursor-not-allowed\"\r\n              : \"bg-primary hover:bg-primary/90\"\r\n          }`}\r\n        >\r\n          {placesRestantes === 0 ? \"Complet\" : \"R√©server\"}\r\n        </button>\r\n      </div>\r\n    </motion.div>\r\n  );\r\n};\r\n\r\nexport default SearchResults;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}