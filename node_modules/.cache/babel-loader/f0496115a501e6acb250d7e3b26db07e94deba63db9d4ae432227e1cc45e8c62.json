{"ast":null,"code":"// client/src/context/AuthContext.js\nimport React,{createContext,useState,useEffect,useCallback}from\"react\";import smartApi from\"../utils/smartApi\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";export const AuthContext=/*#__PURE__*/createContext();export const AuthProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(()=>{const saved=localStorage.getItem(\"user\");return saved?JSON.parse(saved):null;});const[token,setToken]=useState(()=>localStorage.getItem(\"token\"));const[refreshToken,setRefreshToken]=useState(()=>localStorage.getItem(\"refreshToken\"));const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// âœ… Sync localStorage avec lâ€™Ã©tat\nuseEffect(()=>{if(user&&token){localStorage.setItem(\"user\",JSON.stringify(user));localStorage.setItem(\"token\",token);if(refreshToken)localStorage.setItem(\"refreshToken\",refreshToken);}else{localStorage.removeItem(\"user\");localStorage.removeItem(\"token\");localStorage.removeItem(\"refreshToken\");}},[user,token,refreshToken]);// âœ… Applique le token Ã  Axios\nuseEffect(()=>{if(token){smartApi.defaults.headers.common[\"Authorization\"]=\"Bearer \".concat(token);}else{delete smartApi.defaults.headers.common[\"Authorization\"];}},[token]);/* =========================================================\r\n     ðŸ†• INSCRIPTION UTILISATEUR\r\n  ========================================================= */const register=useCallback(async(name,email,password)=>{setLoading(true);setError(null);try{const{data}=await smartApi.post(\"/auth/register\",{name,email,password});Swal.fire({icon:\"success\",title:\"Compte crÃ©Ã© ðŸŽ‰\",text:\"Votre compte a Ã©tÃ© crÃ©Ã© avec succÃ¨s. Vous pouvez maintenant vous connecter.\",confirmButtonColor:\"#16a34a\"});setLoading(false);return true;}catch(err){var _err$response,_err$response$data;console.error(\"âŒ Erreur d'inscription :\",err);const msg=((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Impossible de crÃ©er le compte. RÃ©essayez plus tard.\";setError(msg);Swal.fire({icon:\"error\",title:\"Erreur d'inscription\",text:msg,confirmButtonColor:\"#dc2626\"});setLoading(false);return false;}},[]);/* =========================================================\r\n     ðŸ” CONNEXION UTILISATEUR\r\n  ========================================================= */const login=useCallback(async(email,password)=>{setLoading(true);setError(null);try{const{data}=await smartApi.post(\"/auth/login\",{email,password});setUser(data.user);setToken(data.token);setRefreshToken(data.refreshToken);Swal.fire({icon:\"success\",title:\"Connexion rÃ©ussie âœ…\",text:\"Bienvenue \".concat(data.user.name,\"!\"),timer:1500,showConfirmButton:false});return true;}catch(err){var _err$response2,_err$response2$data;console.error(\"âŒ Erreur de connexion :\",err);const msg=((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Identifiants incorrects ou serveur indisponible.\";setError(msg);Swal.fire({icon:\"error\",title:\"Ã‰chec de la connexion\",text:msg});return false;}finally{setLoading(false);}},[]);/* =========================================================\r\n     ðŸšª DÃ‰CONNEXION\r\n  ========================================================= */const logout=useCallback(()=>{setUser(null);setToken(null);setRefreshToken(null);localStorage.clear();Swal.fire({icon:\"info\",title:\"DÃ©connexion effectuÃ©e\",text:\"Ã€ bientÃ´t ðŸ‘‹\",confirmButtonColor:\"#2563eb\"});},[]);/* =========================================================\r\n     â™»ï¸ RAFRAÃŽCHISSEMENT DU TOKEN\r\n  ========================================================= */const refreshAccessToken=useCallback(async()=>{if(!refreshToken)return;try{const{data}=await smartApi.post(\"/auth/refresh\",{refreshToken});setToken(data.token);localStorage.setItem(\"token\",data.token);console.log(\"â™»ï¸ Token rÃ©gÃ©nÃ©rÃ© avec succÃ¨s\");}catch(error){console.warn(\"âš ï¸ Refresh token invalide :\",error);logout();}},[refreshToken,logout]);/* =========================================================\r\n     CHECK USER\r\n  ========================================================= */const checkUser=useCallback(async()=>{const token=localStorage.getItem(\"token\");if(!token)return false;try{const{data}=await smartApi.get(\"/auth/user\",{headers:{Authorization:\"Bearer \".concat(token)},withCredentials:true});if(data!==null&&data!==void 0&&data.user){setUser(data.user);// met Ã  jour le contexte si besoin\nreturn true;}return false;}catch(err){console.warn(\"âŒ Ã‰chec de la vÃ©rification utilisateur :\",err);return false;}},[]);/* =========================================================\r\n     CHECK ADMIN\r\n  ========================================================= */const checkAdmin=useCallback(async()=>{const token=localStorage.getItem(\"adminToken\");if(!token)return false;try{const{data}=await smartApi.get(\"/auth/user\",{headers:{Authorization:\"Bearer \".concat(token)},withCredentials:true});return(data===null||data===void 0?void 0:data.isAdmin)===true;}catch(err){console.warn(\"âŒ Ã‰chec de la vÃ©rification admin :\",err);return false;}},[]);useEffect(()=>{console.log(\"âœ… AuthProvider montÃ©\");const interval=setInterval(()=>{refreshAccessToken();},1000*60*5);// toutes les 5 minutes\nreturn()=>clearInterval(interval);},[refreshAccessToken]);return/*#__PURE__*/_jsx(AuthContext.Provider,{value:{user,token,refreshToken,loading,error,register,// âœ… ajoutÃ©\nlogin,logout,isAuthenticated:!!user,checkUser,checkAdmin// âœ… ajoutÃ© ici\n},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","useCallback","smartApi","Swal","jsx","_jsx","AuthContext","AuthProvider","_ref","children","user","setUser","saved","localStorage","getItem","JSON","parse","token","setToken","refreshToken","setRefreshToken","loading","setLoading","error","setError","setItem","stringify","removeItem","defaults","headers","common","concat","register","name","email","password","data","post","fire","icon","title","text","confirmButtonColor","err","_err$response","_err$response$data","console","msg","response","message","login","timer","showConfirmButton","_err$response2","_err$response2$data","logout","clear","refreshAccessToken","log","warn","checkUser","get","Authorization","withCredentials","checkAdmin","isAdmin","interval","setInterval","clearInterval","Provider","value","isAuthenticated"],"sources":["C:/React/kocrou-transport -Deploy/client/src/context/AuthContext.js"],"sourcesContent":["// client/src/context/AuthContext.js\r\nimport React, { createContext, useState, useEffect, useCallback } from \"react\";\r\nimport smartApi from \"../utils/smartApi\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(() => {\r\n    const saved = localStorage.getItem(\"user\");\r\n    return saved ? JSON.parse(saved) : null;\r\n  });\r\n  const [token, setToken] = useState(() => localStorage.getItem(\"token\"));\r\n  const [refreshToken, setRefreshToken] = useState(() =>\r\n    localStorage.getItem(\"refreshToken\")\r\n  );\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // âœ… Sync localStorage avec lâ€™Ã©tat\r\n  useEffect(() => {\r\n    if (user && token) {\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n      localStorage.setItem(\"token\", token);\r\n      if (refreshToken) localStorage.setItem(\"refreshToken\", refreshToken);\r\n    } else {\r\n      localStorage.removeItem(\"user\");\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"refreshToken\");\r\n    }\r\n  }, [user, token, refreshToken]);\r\n\r\n  // âœ… Applique le token Ã  Axios\r\n  useEffect(() => {\r\n    if (token) {\r\n      smartApi.defaults.headers.common[\"Authorization\"] = `Bearer ${token}`;\r\n    } else {\r\n      delete smartApi.defaults.headers.common[\"Authorization\"];\r\n    }\r\n  }, [token]);\r\n\r\n  /* =========================================================\r\n     ðŸ†• INSCRIPTION UTILISATEUR\r\n  ========================================================= */\r\n  const register = useCallback(async (name, email, password) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const { data } = await smartApi.post(\"/auth/register\", { name, email, password });\r\n\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Compte crÃ©Ã© ðŸŽ‰\",\r\n        text: \"Votre compte a Ã©tÃ© crÃ©Ã© avec succÃ¨s. Vous pouvez maintenant vous connecter.\",\r\n        confirmButtonColor: \"#16a34a\",\r\n      });\r\n\r\n      setLoading(false);\r\n      return true;\r\n    } catch (err) {\r\n      console.error(\"âŒ Erreur d'inscription :\", err);\r\n      const msg =\r\n        err.response?.data?.message ||\r\n        \"Impossible de crÃ©er le compte. RÃ©essayez plus tard.\";\r\n\r\n      setError(msg);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Erreur d'inscription\",\r\n        text: msg,\r\n        confirmButtonColor: \"#dc2626\",\r\n      });\r\n\r\n      setLoading(false);\r\n      return false;\r\n    }\r\n  }, []);\r\n\r\n  /* =========================================================\r\n     ðŸ” CONNEXION UTILISATEUR\r\n  ========================================================= */\r\n  const login = useCallback(async (email, password) => {\r\n    setLoading(true);\r\n    setError(null);\r\n    try {\r\n      const { data } = await smartApi.post(\"/auth/login\", { email, password });\r\n\r\n      setUser(data.user);\r\n      setToken(data.token);\r\n      setRefreshToken(data.refreshToken);\r\n\r\n      Swal.fire({\r\n        icon: \"success\",\r\n        title: \"Connexion rÃ©ussie âœ…\",\r\n        text: `Bienvenue ${data.user.name}!`,\r\n        timer: 1500,\r\n        showConfirmButton: false,\r\n      });\r\n\r\n      return true;\r\n    } catch (err) {\r\n      console.error(\"âŒ Erreur de connexion :\", err);\r\n      const msg =\r\n        err.response?.data?.message ||\r\n        \"Identifiants incorrects ou serveur indisponible.\";\r\n\r\n      setError(msg);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Ã‰chec de la connexion\",\r\n        text: msg,\r\n      });\r\n      return false;\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  /* =========================================================\r\n     ðŸšª DÃ‰CONNEXION\r\n  ========================================================= */\r\n  const logout = useCallback(() => {\r\n    setUser(null);\r\n    setToken(null);\r\n    setRefreshToken(null);\r\n    localStorage.clear();\r\n    Swal.fire({\r\n      icon: \"info\",\r\n      title: \"DÃ©connexion effectuÃ©e\",\r\n      text: \"Ã€ bientÃ´t ðŸ‘‹\",\r\n      confirmButtonColor: \"#2563eb\",\r\n    });\r\n  }, []);\r\n\r\n  /* =========================================================\r\n     â™»ï¸ RAFRAÃŽCHISSEMENT DU TOKEN\r\n  ========================================================= */\r\n  const refreshAccessToken = useCallback(async () => {\r\n    if (!refreshToken) return;\r\n    try {\r\n      const { data } = await smartApi.post(\"/auth/refresh\", { refreshToken });\r\n      setToken(data.token);\r\n      localStorage.setItem(\"token\", data.token);\r\n      console.log(\"â™»ï¸ Token rÃ©gÃ©nÃ©rÃ© avec succÃ¨s\");\r\n    } catch (error) {\r\n      console.warn(\"âš ï¸ Refresh token invalide :\", error);\r\n      logout();\r\n    }\r\n  }, [refreshToken, logout]);\r\n\r\n  /* =========================================================\r\n     CHECK USER\r\n  ========================================================= */\r\nconst checkUser = useCallback(async () => {\r\n  const token = localStorage.getItem(\"token\");\r\n  if (!token) return false;\r\n\r\n  try {\r\n    const { data } = await smartApi.get(\"/auth/user\", {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      withCredentials: true,\r\n    });\r\n\r\n    if (data?.user) {\r\n      setUser(data.user); // met Ã  jour le contexte si besoin\r\n      return true;\r\n    }\r\n    return false;\r\n  } catch (err) {\r\n    console.warn(\"âŒ Ã‰chec de la vÃ©rification utilisateur :\", err);\r\n    return false;\r\n  }\r\n}, []);\r\n\r\n  /* =========================================================\r\n     CHECK ADMIN\r\n  ========================================================= */\r\n  const checkAdmin = useCallback(async () => {\r\n  const token = localStorage.getItem(\"adminToken\");\r\n  if (!token) return false;\r\n\r\n  try {\r\n    const { data } = await smartApi.get(\"/auth/user\", {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n      withCredentials: true,\r\n    });\r\n    return data?.isAdmin === true;\r\n  } catch (err) {\r\n    console.warn(\"âŒ Ã‰chec de la vÃ©rification admin :\", err);\r\n    return false;\r\n  }\r\n}, []);\r\n\r\n  useEffect(() => {\r\n    console.log(\"âœ… AuthProvider montÃ©\");\r\n    const interval = setInterval(() => {\r\n      refreshAccessToken();\r\n    }, 1000 * 60 * 5); // toutes les 5 minutes\r\n    return () => clearInterval(interval);\r\n  }, [refreshAccessToken]);\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        user,\r\n        token,\r\n        refreshToken,\r\n        loading,\r\n        error,\r\n        register, // âœ… ajoutÃ©\r\n        login,\r\n        logout,\r\n        isAuthenticated: !!user,\r\n        checkUser,\r\n        checkAdmin, // âœ… ajoutÃ© ici\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}